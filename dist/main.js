(()=>{"use strict";const e=document.getElementById("new-project-btn"),t=document.getElementById("new-project-el"),i=document.getElementById("add-project"),n=document.getElementById("cancel-project"),s=document.getElementById("project-input"),l=document.getElementById("project-list"),d=document.getElementById("delete-button");let o=JSON.parse(localStorage.getItem("projectsKey"))||[],c=JSON.parse(localStorage.getItem("projectsKey"));function a(){let e=" ";for(let t=0;t<o.length;t++)e+=`\n            <ul class="project-item"> \n             <li id="${Math.floor(Math.random()*Date.now())}">${o[t].name}</li>\n            </ul>\n       `;l.innerHTML=e}function r(){e.style.visibility="hidden",d.style.visibility="hidden",t.style.visibility="visible"}function y(){e.addEventListener("click",r)}c&&(o=c,a()),t.style.visibility="hidden",e.style.visibility="visible",d.style.visibility="hidden",n.addEventListener("click",(function(){t.style.visibility="hidden",e.style.visibility="visible"})),i.addEventListener("click",(function(){let i=s.value;if(null==i||" "===i)return;s.value=" ";const n=(l=i,Math.floor(Math.random()*Date.now()),{name:l,tasks:[]});var l;o.push(n),localStorage.setItem("projectsKey",JSON.stringify(o)),e.style.visibility="visible",t.style.visibility="hidden",a()})),l.addEventListener("click",(function(e){let t=e.target.id,i=document.getElementById(t);d.style.visibility="visible",d.addEventListener("click",(function(){let e=o.indexOf(i.innerHTML);o.splice(e,1),localStorage.setItem("projectsKey",JSON.stringify(o)),a(),d.style.visibility="hidden",window.location.reload()}))})),y();const m=document.getElementById("new-task"),u=document.getElementById("new-task-el"),v=document.getElementById("add-task"),k=document.getElementById("cancel-task"),g=document.getElementById("delete-task"),b=document.getElementById("task-div"),E=document.getElementById("project-list");let I=document.getElementById("task-title"),h=document.getElementById("task-description"),p=document.getElementById("task-dueDate"),f=document.getElementById("task-priorty"),B=document.getElementById("task-notes");const L="project.selectedId";let j=localStorage.getItem(L);class D{constructor(e,t,i,n,s){this.taskTitile=e,this.taskDescription=t,this.taskDueDate=i,this.taskPriorty=n,this.taskNotes=s}}function M(){const e=o.find((e=>e.id=j));console.log(e.tasks);let t=" ";for(let i=0;i<e.tasks.length;i++)t+=`\n            <div class="task-item" id="${Math.floor(Math.random()*Date.now())}"> \n                Title: ${e.tasks[i].taskTitile} <br>\n                Description: ${e.tasks[i].taskDescription}<br>\n                Due Date: ${e.tasks[i].taskDueDate} <br>\n                Priorty: ${e.tasks[i].taskPriorty} <br>\n                Notes: ${e.tasks[i].taskNotes} <br>\n                <button id="delete-tasks" >Delete</button>\n                <br>\n            </div>  \n       `,b.innerHTML=t;document.getElementById("delete-tasks").addEventListener("click",(function(){console.log("been clicked")}))}b.innerHTML="No Tasks at the Moment",m.style.visibility="hidden",g.style.visibility="hidden",u.style.visibility="hidden",k.addEventListener("click",(function(){u.style.visibility="hidden",m.style.visibility="visible"})),E.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(j=e.target.id,b.innerHTML="Project: Yes",m.style.visibility="visible",M())})),v.addEventListener("click",(function(){const e=new D(I.value,h.value,p.value,f.value,B.value),t=o.find((e=>e.id=j));t.tasks.push(e),console.log(t),M(),localStorage.setItem("projectsKey",JSON.stringify(o)),localStorage.setItem(L,j)})),y(),m.addEventListener("click",(function(){m.style.visibility="hidden",u.style.visibility="visible"}))})();