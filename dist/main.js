(()=>{"use strict";const t=document.getElementById("new-project-btn"),e=document.getElementById("new-project-el"),i=document.getElementById("add-project"),n=document.getElementById("cancel-project"),s=document.getElementById("project-input"),l=document.getElementById("project-list"),o=document.getElementById("delete-button");let d=JSON.parse(localStorage.getItem("projectsKey"))||[],a=JSON.parse(localStorage.getItem("projectsKey"));function c(){let t=" ";for(let e=0;e<d.length;e++)t+=`\n            <ul class="project-item"> \n             <li id="${Math.floor(Math.random()*Date.now())}">${d[e].name}</li>\n            </ul>\n       `;l.innerHTML=t}function r(){t.style.visibility="hidden",o.style.visibility="hidden",e.style.visibility="visible"}function y(){t.addEventListener("click",r)}a&&(d=a,c()),e.style.visibility="hidden",t.style.visibility="visible",o.style.visibility="hidden",n.addEventListener("click",(function(){e.style.visibility="hidden",t.style.visibility="visible"})),i.addEventListener("click",(function(){let i=s.value;if(null==i||" "===i)return;s.value=" ";const n=(l=i,Math.floor(Math.random()*Date.now()),{name:l,tasks:[]});var l;d.push(n),localStorage.setItem("projectsKey",JSON.stringify(d)),t.style.visibility="visible",e.style.visibility="hidden",c()})),l.addEventListener("click",(function(t){let e=t.target.id,i=document.getElementById(e);o.style.visibility="visible",o.addEventListener("click",(function(){let t=d.indexOf(i.innerHTML);d.splice(t,1),localStorage.setItem("projectsKey",JSON.stringify(d)),c(),o.style.visibility="hidden",window.location.reload()}))})),y();const m=document.getElementById("new-task"),u=document.getElementById("new-task-el"),v=document.getElementById("add-task"),g=document.getElementById("cancel-task"),k=document.getElementById("delete-task"),b=document.getElementById("task-div"),E=document.getElementById("project-list");let h=document.getElementById("task-title"),I=document.getElementById("task-description"),p=document.getElementById("task-dueDate"),f=document.getElementById("task-priorty"),B=document.getElementById("task-notes");const j="project.selectedId";let L=localStorage.getItem(j);class D{constructor(t,e,i,n,s){this.taskTitile=t,this.taskDescription=e,this.taskDueDate=i,this.taskPriorty=n,this.taskNotes=s}}b.innerHTML="No Tasks at the Moment",m.style.visibility="hidden",k.style.visibility="hidden",u.style.visibility="hidden",g.addEventListener("click",(function(){u.style.visibility="hidden",m.style.visibility="visible"})),E.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(L=t.target.id,b.innerHTML="Project: Yes",m.style.visibility="visible",S())}));const M=d.find((t=>t.id=L));function S(){const t=d.find((t=>t.id=L));console.log(t.tasks);let e=" ";for(let i=0;i<t.tasks.length;i++)e+=`\n            <div class="task-item" id="${Math.floor(Math.random()*Date.now())}"> \n                Title: ${t.tasks[i].taskTitile} <br>\n                Description: ${t.tasks[i].taskDescription}<br>\n                Due Date: ${t.tasks[i].taskDueDate} <br>\n                Priorty: ${t.tasks[i].taskPriorty} <br>\n                Notes: ${t.tasks[i].taskNotes} <br>\n                <button id="delete-tasks">Delete</button><br>\n                <br>\n            </div>  \n       `,b.innerHTML=e}console.log(M),v.addEventListener("click",(function(){const t=new D(h.value,I.value,p.value,f.value,B.value),e=d.find((t=>t.id=L));console.log(e),e.tasks.push(t),S(),localStorage.setItem("projectsKey",JSON.stringify(d)),localStorage.setItem(j,L)})),y(),m.addEventListener("click",(function(){m.style.visibility="hidden",u.style.visibility="visible"}))})();